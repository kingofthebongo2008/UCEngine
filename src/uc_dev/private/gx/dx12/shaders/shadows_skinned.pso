import depthstencil
import rasterizer
import blend

PipelineStateObject static_geometry =
{
    .RootSignature          = default_signature
    .BlendState             = blend_disabled
    .SampleMask             = FFFFFFFF
    .RasterizerState        = solid
    .DepthStencilState      = depth_prepass_opaque
    .StripCutValue          = Disabled
    .PrimitiveTopology      = Triangle
    .RTVFormats             = { }
    .DSVFormat              = D32_FLOAT
    .SampleDescription      = { .Count = 1 .Quality = 0 }
}

PipelineStateObject static_geometry_shadows : static_geometry =
{
    .SampleDescription      = { .Count = 4 .Quality = 0 }
}

InputLayout position = 
{
    InputLayoutElement = 
    {
        .SemanticName = "position"
        .SemanticIndex = 0
        .Format = R32G32B32_FLOAT
        .InputSlot = 0
        .AlignedByteOffset = 0
        .Classification = PER_VERTEX_DATA
    }

	InputLayoutElement = 
    {
        .SemanticName = "blend_weights"
        .SemanticIndex = 0
        .Format = R32G32B32A32_FLOAT
        .InputSlot = 1
        .AlignedByteOffset = 0
        .Classification = PER_VERTEX_DATA
    }

	InputLayoutElement = 
    {
        .SemanticName	= "blend_indices"
        .SemanticIndex	= 0
        .Format			= R8G8B8A8_UINT
        .InputSlot		= 2
        .AlignedByteOffset = 0
        .Classification = PER_VERTEX_DATA
    }
}

PipelineStateObject shadows_skinned: static_geometry_shadows =
{
    .VertexShader           = depth_prepass_vertex_skinned
    .InputLayout            = position
}





